### 时间（time）

#### asctime

```python
time.asctime() // 'Fri Sep 15 14:46:37 2023' 
```

它不接受任何参数，也就是它只能返回上面样式的字符串，比较鸡肋

#### ctime

将一个指定的秒数转成上面的asctime 样式的字符串格式，如果没有指定秒数，默认使用time.time() 返回值。

```python
>>> time.ctime()
'Fri Sep 15 14:53:17 2023'
```
#### gmtime
将一个指定秒数转成结构化时间

```python
>>> time.gmtime()
time.struct_time(tm_year=2023, tm_mon=9, tm_mday=15, tm_hour=6, tm_min=54, tm_sec=44, tm_wday=4, tm_yday=258, tm_isdst=0)

- `tm_year`：年份，例如2023
- `tm_mon`：月份，范围从1（一月）到12（十二月）
- `tm_mday`：一个月中的第几天，范围从1到31
- `tm_hour`：小时，范围从0（午夜）到23
- `tm_min`：分钟，范围从0到59
- `tm_sec`：秒，范围从0到61（60和61用于闰秒）
- `tm_wday`：一周中的第几天，范围从0（星期一）到6（星期日）
- `tm_yday`：一年中的第几天，范围从1到366
- `tm_isdst`：夏令时标志，值为0表示标准时间，为1表示夏令时。如果信息不可用，则为-1
```

#### localtime
与上面的gmtime 一样，但是会转为本地时间，目前就发现小时显示不一样，对于gmtime 会显示6， 而localtime则显示14


### datetime to timezone
```python
import pytz
from datetime import datetime
unware_time = datetime.strptime(time_str,'%Y-%d-%d %H:%M:%s')
unware_time.replace(tzinfo=pytz.UTC)
```


### 时间处理(距离现在多长时间）

```python

@app.template_filter('handle_time')
def handle_time(time):
    """
    time距离现在的时间间隔
    1. 如果时间间隔小于1分钟以内，那么就显示“刚刚”
    2. 如果是大于1分钟小于1小时，那么就显示“xx分钟前”
    3. 如果是大于1小时小于24小时，那么就显示“xx小时前”
    4. 如果是大于24小时小于30天以内，那么就显示“xx天前”
    5. 否则就是显示具体的时间 2017/10/20 16:15
    """
    if isinstance(time,datetime):
        now = datetime.now()
        timestamp = (now - time).total_seconds()
        if timestamp < 60:
            return "刚刚"
        elif timestamp>=60 and timestamp < 60*60:
            minutes = timestamp / 60
            return "%s分钟前" % int(minutes)
        elif timestamp >= 60*60 and timestamp < 60*60*24:
            hours = timestamp / (60*60)
            return '%s小时前' % int(hours)
        elif timestamp >= 60*60*24 and timestamp < 60*60*24*30:
            days = timestamp / (60*60*24)
            return "%s天前" % int(days)
        else:
            return time.strftime('%Y/%m/%d %H:%M')
    else:
        return time
```
